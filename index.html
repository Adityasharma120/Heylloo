<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heyllo</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = { darkMode: 'class' }
</script>
</head>

<body class="bg-gray-100 dark:bg-gray-900 transition">

<!-- Splash -->
<div id="splash" class="fixed inset-0 flex items-center justify-center bg-gradient-to-br from-pink-500 to-purple-600 text-white text-4xl font-bold z-50">
Heyllo ğŸ’–
</div>

<!-- LOGIN PAGE -->
<div id="authPage" class="hidden flex items-center justify-center min-h-screen p-6">
<div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl w-full max-w-sm">

<h2 class="text-2xl font-bold text-center text-pink-500 mb-4">Welcome to Heyllo</h2>

<input id="authUsername" placeholder="Username"
class="w-full p-2 border rounded-xl mb-3">

<input id="authPassword" type="password" placeholder="Password"
class="w-full p-2 border rounded-xl mb-3">

<button onclick="signup()"
class="w-full bg-purple-500 text-white p-2 rounded-xl mb-2">
Sign Up
</button>

<button onclick="login()"
class="w-full bg-pink-500 text-white p-2 rounded-xl">
Login
</button>

</div>
</div>

<!-- MAIN APP -->
<div id="app" class="hidden max-w-md mx-auto min-h-screen pb-24">

<div class="bg-gradient-to-r from-pink-500 to-purple-500 p-4 text-white text-center text-xl font-bold rounded-b-3xl">
Heyllo ğŸ’–
</div>

<div id="homePage" class="p-4 space-y-4"></div>

<div id="createPage" class="hidden p-4 space-y-3">
<textarea id="postText" placeholder="What's on your mind?"
class="w-full p-3 border rounded-xl"></textarea>

<input type="file" id="imageInput" accept="image/*"
class="w-full p-2 border rounded-xl bg-white">

<select id="locationSelect" class="w-full p-2 border rounded-xl">
<option value="ğŸ“ No Location">ğŸ“ No Location</option>
<option>Delhi</option>
<option>Mumbai</option>
<option>Jaipur</option>
</select>

<button onclick="addPost()"
class="w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white p-3 rounded-xl">
Post
</button>
</div>

<div id="profilePage" class="hidden p-6 text-center">
<h2 class="text-xl font-bold dark:text-white" id="profileName"></h2>
<button onclick="logout()"
class="mt-4 bg-red-500 text-white px-4 py-2 rounded-xl">
Logout
</button>
</div>

</div>

<!-- Bottom Nav -->
<div id="bottomNav" class="hidden fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white dark:bg-gray-800 shadow-lg rounded-t-3xl flex justify-around py-3">
<button onclick="showPage('home')" class="text-xl">ğŸ </button>
<button onclick="showPage('create')" class="text-xl">â•</button>
<button onclick="showPage('profile')" class="text-xl">ğŸ‘¤</button>
</div>

<script>

// Splash
setTimeout(()=>{
document.getElementById("splash").style.display="none";
checkAuth();
},1500);

// Auth System
let currentUser = localStorage.getItem("heyllo_currentUser");

function checkAuth(){
if(currentUser){
showApp();
}else{
authPage.classList.remove("hidden");
}
}

function signup(){
let username = authUsername.value;
let password = authPassword.value;
if(!username || !password) return alert("Fill all fields");

localStorage.setItem("user_"+username,password);
alert("Account created! Now login ğŸ˜");
}

function login(){
let username = authUsername.value;
let password = authPassword.value;

let saved = localStorage.getItem("user_"+username);

if(saved===password){
localStorage.setItem("heyllo_currentUser",username);
currentUser=username;
showApp();
}else{
alert("Wrong credentials!");
}
}

function logout(){
localStorage.removeItem("heyllo_currentUser");
location.reload();
}

function showApp(){
authPage.classList.add("hidden");
app.classList.remove("hidden");
bottomNav.classList.remove("hidden");
profileName.innerText="@" + currentUser;
loadPosts();
}

// Navigation
function showPage(page){
["homePage","createPage","profilePage"]
.forEach(id=>document.getElementById(id).classList.add("hidden"));

if(page==="home") homePage.classList.remove("hidden");
if(page==="create") createPage.classList.remove("hidden");
if(page==="profile") profilePage.classList.remove("hidden");
}

// Posts
let posts = JSON.parse(localStorage.getItem("heyllo_posts")) || [];

function addPost(){
let text = postText.value;
let imageFile = imageInput.files[0];
let location = locationSelect.value;

if(!text && !imageFile) return alert("Add something!");

const reader = new FileReader();

reader.onload = function(){
posts.unshift({
id:Date.now(),
user:currentUser,
text,
image:imageFile?reader.result:null,
location,
likes:0
});
localStorage.setItem("heyllo_posts",JSON.stringify(posts));
postText.value="";
imageInput.value="";
loadPosts();
showPage("home");
};

if(imageFile){
reader.readAsDataURL(imageFile);
}else{
reader.onload();
}
}

function likePost(id){
posts = posts.map(p=>{
if(p.id===id) p.likes++;
return p;
});
localStorage.setItem("heyllo_posts",JSON.stringify(posts));
loadPosts();
}

function loadPosts(){
homePage.innerHTML="";
posts.forEach(post=>{
homePage.innerHTML+=`
<div class="bg-white dark:bg-gray-800 rounded-2xl shadow p-4">
<p class="font-semibold">@${post.user}</p>
${post.image ? `<img src="${post.image}" class="rounded-xl mt-3">` : ""}
<p class="mt-2">${post.text||""}</p>
<p class="text-xs text-gray-500">${post.location}</p>
<button onclick="likePost(${post.id})">â¤ï¸ ${post.likes}</button>
</div>
`;
});
}

</script>

</body>
</html>
